\hypertarget{main_8h}{}\doxysection{src/main.h File Reference}
\label{main_8h}\index{src/main.h@{src/main.h}}


Headers of main file of Super\+Derpy engine.  


{\ttfamily \#include $<$allegro5/allegro.\+h$>$}\newline
{\ttfamily \#include $<$allegro5/allegro\+\_\+audio.\+h$>$}\newline
{\ttfamily \#include $<$allegro5/allegro\+\_\+acodec.\+h$>$}\newline
{\ttfamily \#include $<$allegro5/allegro\+\_\+image.\+h$>$}\newline
{\ttfamily \#include $<$allegro5/allegro\+\_\+font.\+h$>$}\newline
{\ttfamily \#include $<$allegro5/allegro\+\_\+ttf.\+h$>$}\newline
{\ttfamily \#include \char`\"{}allegro\+\_\+utils.\+h\char`\"{}}\newline
\doxysubsection*{Data Structures}
\begin{DoxyCompactItemize}
\item 
struct \mbox{\hyperlink{structObstacle}{Obstacle}}
\begin{DoxyCompactList}\small\item\em Structure representing obstacles and power-\/ups flying through the level. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structSpritesheet}{Spritesheet}}
\begin{DoxyCompactList}\small\item\em Structure representing one spritesheet animation of Derpy. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMoonwalk}{Moonwalk}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structMoonwalk}{Moonwalk}} level module. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structDodger}{Dodger}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structDodger}{Dodger}} level module. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structLevel}{Level}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structLevel}{Level}} state and shared between level modules. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMenu}{Menu}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structMenu}{Menu}} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structLoading}{Loading}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structLoading}{Loading}} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structPause}{Pause}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structPause}{Pause}} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structAbout}{About}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structAbout}{About}} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structMap}{Map}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structMap}{Map}} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structIntro}{Intro}}
\begin{DoxyCompactList}\small\item\em Resources used by \mbox{\hyperlink{structIntro}{Intro}} state. \end{DoxyCompactList}\item 
struct \mbox{\hyperlink{structGame}{Game}}
\begin{DoxyCompactList}\small\item\em Main struct of the game. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8h_a7f1d27b16e12e005a5c1318303fbc616}\label{main_8h_a7f1d27b16e12e005a5c1318303fbc616}} 
\#define \mbox{\hyperlink{main_8h_a7f1d27b16e12e005a5c1318303fbc616}{P\+R\+O\+G\+R\+E\+S\+S\+\_\+\+I\+N\+IT}}(a)~float load\+\_\+p = 0, load\+\_\+a = a;
\begin{DoxyCompactList}\small\item\em Declares variables used by displaying progress bar on loading screen. Takes number of loading steps as parameter. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a5c9c57e1e8bc5ea8821d381a06d3f4d0}\label{main_8h_a5c9c57e1e8bc5ea8821d381a06d3f4d0}} 
\#define \mbox{\hyperlink{main_8h_a5c9c57e1e8bc5ea8821d381a06d3f4d0}{P\+R\+O\+G\+R\+E\+SS}}~if (progress) ($\ast$progress)(game, load\+\_\+p+=1/load\+\_\+a);
\begin{DoxyCompactList}\small\item\em Increments progress of loading. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8h_ae1e9f94402d151ae1adc212237a6d153}\label{main_8h_ae1e9f94402d151ae1adc212237a6d153}} 
enum \mbox{\hyperlink{main_8h_ae1e9f94402d151ae1adc212237a6d153}{gamestate\+\_\+enum}} \{ \newline
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+P\+A\+U\+SE}, 
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+L\+O\+A\+D\+I\+NG}, 
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+M\+E\+NU}, 
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+A\+B\+O\+UT}, 
\newline
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+I\+N\+T\+RO}, 
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+M\+AP}, 
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+L\+E\+V\+EL}, 
{\bfseries G\+A\+M\+E\+S\+T\+A\+T\+E\+\_\+\+D\+I\+S\+C\+L\+A\+I\+M\+ER}
 \}
\begin{DoxyCompactList}\small\item\em Enum of all available gamestates. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a5b988954c565e5ff444d61085e367fae}\label{main_8h_a5b988954c565e5ff444d61085e367fae}} 
enum \mbox{\hyperlink{main_8h_a5b988954c565e5ff444d61085e367fae}{menustate\+\_\+enum}} \{ \newline
{\bfseries M\+E\+N\+U\+S\+T\+A\+T\+E\+\_\+\+M\+A\+IN}, 
{\bfseries M\+E\+N\+U\+S\+T\+A\+T\+E\+\_\+\+O\+P\+T\+I\+O\+NS}, 
{\bfseries M\+E\+N\+U\+S\+T\+A\+T\+E\+\_\+\+C\+O\+N\+T\+R\+O\+LS}, 
{\bfseries M\+E\+N\+U\+S\+T\+A\+T\+E\+\_\+\+V\+I\+D\+EO}, 
\newline
{\bfseries M\+E\+N\+U\+S\+T\+A\+T\+E\+\_\+\+P\+A\+U\+SE}, 
{\bfseries M\+E\+N\+U\+S\+T\+A\+T\+E\+\_\+\+A\+U\+D\+IO}
 \}
\begin{DoxyCompactList}\small\item\em Enum of menu states in \mbox{\hyperlink{structMenu}{Menu}} and \mbox{\hyperlink{structPause}{Pause}} game states. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{main_8h_afd10ce18ae3e601a9c462e2bd552ed32}\label{main_8h_afd10ce18ae3e601a9c462e2bd552ed32}} 
void \mbox{\hyperlink{main_8h_afd10ce18ae3e601a9c462e2bd552ed32}{Preload\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game, void($\ast$progress)(struct \mbox{\hyperlink{structGame}{Game}} $\ast$, float))
\begin{DoxyCompactList}\small\item\em Preloads gamestate set in game-\/$>$loadstate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_afbbdeccc0adc5c3a0c84461f51a45a5b}\label{main_8h_afbbdeccc0adc5c3a0c84461f51a45a5b}} 
void \mbox{\hyperlink{main_8h_afbbdeccc0adc5c3a0c84461f51a45a5b}{Unload\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Unloads gamestate set in game-\/$>$gamestate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_afe84ca1b0107fe689f9d2987d83caea0}\label{main_8h_afe84ca1b0107fe689f9d2987d83caea0}} 
void \mbox{\hyperlink{main_8h_afe84ca1b0107fe689f9d2987d83caea0}{Load\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Loads gamestate set in game-\/$>$loadstate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_acec4517002cf3ba62b607d3f4ebe20e8}\label{main_8h_acec4517002cf3ba62b607d3f4ebe20e8}} 
void \mbox{\hyperlink{main_8h_acec4517002cf3ba62b607d3f4ebe20e8}{Pause\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Pauses gamestate set in game-\/$>$loadstate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a132daa46a6e55c1508badea4d38b6fc6}\label{main_8h_a132daa46a6e55c1508badea4d38b6fc6}} 
void \mbox{\hyperlink{main_8h_a132daa46a6e55c1508badea4d38b6fc6}{Resume\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Resumes gamestate set in game-\/$>$loadstate. \end{DoxyCompactList}\item 
char $\ast$ \mbox{\hyperlink{main_8h_a3c3512cfd72e3078ed970085f31a7b40}{Get\+Data\+File\+Path}} (char $\ast$filename)
\begin{DoxyCompactList}\small\item\em Finds path for data file. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{main_8h_a83e9560a39a8b6beea953f69553dd28b}{Print\+Console}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game, char $\ast$format,...)
\begin{DoxyCompactList}\small\item\em Print some message on game console. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a3a03870a3158c22e10b22d60822c190a}\label{main_8h_a3a03870a3158c22e10b22d60822c190a}} 
void \mbox{\hyperlink{main_8h_a3a03870a3158c22e10b22d60822c190a}{Draw\+Console}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Draws console bitmap on screen. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a83bf17fca7535cabf55e8fcffbf80c7c}\label{main_8h_a83bf17fca7535cabf55e8fcffbf80c7c}} 
A\+L\+L\+E\+G\+R\+O\+\_\+\+B\+I\+T\+M\+AP $\ast$ \mbox{\hyperlink{main_8h_a83bf17fca7535cabf55e8fcffbf80c7c}{Load\+Scaled\+Bitmap}} (char $\ast$filename, int width, int height)
\begin{DoxyCompactList}\small\item\em Loads bitmap into memory and scales it with software linear filtering. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_aba8768911068b399b4118452eb3959ec}\label{main_8h_aba8768911068b399b4118452eb3959ec}} 
void \mbox{\hyperlink{main_8h_aba8768911068b399b4118452eb3959ec}{Draw\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Draws frame from current gamestate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_ad0546784746e89712b06e405ad907bb9}\label{main_8h_ad0546784746e89712b06e405ad907bb9}} 
void \mbox{\hyperlink{main_8h_ad0546784746e89712b06e405ad907bb9}{Logic\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Processes logic of current gamestate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a9b39a4855e329ac4613b2ff881c86e9b}\label{main_8h_a9b39a4855e329ac4613b2ff881c86e9b}} 
void \mbox{\hyperlink{main_8h_a9b39a4855e329ac4613b2ff881c86e9b}{Fade\+Game\+State}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game, bool in)
\begin{DoxyCompactList}\small\item\em Displays fade in or fade out animation on current gamestate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_ab0af27461c4e23c088670da5e6a971ef}\label{main_8h_ab0af27461c4e23c088670da5e6a971ef}} 
int \mbox{\hyperlink{main_8h_ab0af27461c4e23c088670da5e6a971ef}{Shared\+\_\+\+Load}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Load shared resources. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_af9010ebe7fc75fbd882a9a8bf7b32d0c}\label{main_8h_af9010ebe7fc75fbd882a9a8bf7b32d0c}} 
void \mbox{\hyperlink{main_8h_af9010ebe7fc75fbd882a9a8bf7b32d0c}{Shared\+\_\+\+Unload}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Unload shared resources. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{main_8h_a7026a8094d3ddca6f7a69b8b489515e7}\label{main_8h_a7026a8094d3ddca6f7a69b8b489515e7}} 
void \mbox{\hyperlink{main_8h_a7026a8094d3ddca6f7a69b8b489515e7}{Setup\+Viewport}} (struct \mbox{\hyperlink{structGame}{Game}} $\ast$game)
\begin{DoxyCompactList}\small\item\em Setups letterbox viewport if necessary. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Headers of main file of Super\+Derpy engine. 

Contains basic functions shared by all views. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{main_8h_a3c3512cfd72e3078ed970085f31a7b40}\label{main_8h_a3c3512cfd72e3078ed970085f31a7b40}} 
\index{main.h@{main.h}!GetDataFilePath@{GetDataFilePath}}
\index{GetDataFilePath@{GetDataFilePath}!main.h@{main.h}}
\doxysubsubsection{\texorpdfstring{GetDataFilePath()}{GetDataFilePath()}}
{\footnotesize\ttfamily char$\ast$ Get\+Data\+File\+Path (\begin{DoxyParamCaption}\item[{char $\ast$}]{filename }\end{DoxyParamCaption})}



Finds path for data file. 

Finds path for data file.


\begin{DoxyParams}{Parameters}
{\em filename} & Filename from the assets directory independent of filesystem\\
\hline
\end{DoxyParams}
Tests against multiple possible paths for required file. If it won\textquotesingle{}t find any, exit(1) is called \begin{DoxyReturn}{Returns}
Duplicate string pointer to actual path of required file to be loaded or exit if not found 
\end{DoxyReturn}
\mbox{\Hypertarget{main_8h_a83e9560a39a8b6beea953f69553dd28b}\label{main_8h_a83e9560a39a8b6beea953f69553dd28b}} 
\index{main.h@{main.h}!PrintConsole@{PrintConsole}}
\index{PrintConsole@{PrintConsole}!main.h@{main.h}}
\doxysubsubsection{\texorpdfstring{PrintConsole()}{PrintConsole()}}
{\footnotesize\ttfamily void Print\+Console (\begin{DoxyParamCaption}\item[{struct \mbox{\hyperlink{structGame}{Game}} $\ast$}]{game,  }\item[{char $\ast$}]{format,  }\item[{}]{... }\end{DoxyParamCaption})}



Print some message on game console. 

Draws message on console bitmap, so it\textquotesingle{}ll be displayed when calling Draw\+Console. If game-\/$>$debug is true, then it also prints given message on stdout. It needs to be called in printf style. 